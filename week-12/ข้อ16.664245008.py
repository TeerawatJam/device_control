import speech_recognition as sr

# р╣Ар╕бр╕Щр╕╣р╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕нр╕Щр╕▒р╕Бр╕ир╕╢р╕Бр╕йр╕▓
student_help_menu_th = (
    "р╕гр╕░р╕Ър╕Ър╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕нр╕Щр╕▒р╕Бр╕ир╕╢р╕Бр╕йр╕▓\n"
    "1. ЁЯУЪ р╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щр╣Ар╕гр╕╡р╕вр╕Щ\n"
    "2. ЁЯТ░ р╕Чр╕╕р╕Щр╕Бр╕▓р╕гр╕ир╕╢р╕Бр╕йр╕▓\n"
    "3. ЁЯПа р╕лр╕нр╕Юр╕▒р╕Бр╕Щр╕▒р╕Бр╕ир╕╢р╕Бр╕йр╕▓\n"
    "4. ЁЯй║ р╕Ър╕гр╕┤р╕Бр╕▓р╕гр╕Фр╣Йр╕▓р╕Щр╕кр╕╕р╕Вр╕ар╕▓р╕Ю\n"
    "5. ЁЯТ╗ р╕гр╕░р╕Ър╕Ър╕нр╕нр╕Щр╣Др╕ер╕Щр╣М E-Learning\n"
    "6. ЁЯУЦ р╕лр╣Йр╕нр╕Зр╕кр╕бр╕╕р╕Фр╕Бр╕ер╕▓р╕З\n"
    "7. ЁЯУЕ р╕Хр╕▓р╕гр╕▓р╕Зр╕кр╕нр╕Ъ\n"
    "8. ЁЯУЮ р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И\n"
)

student_help_menu_en = (
    "Student Help System\n"
    "1. ЁЯУЪ Course Registration\n"
    "2. ЁЯТ░ Scholarships\n"
    "3. ЁЯПа Student Dormitory\n"
    "4. ЁЯй║ Health Services\n"
    "5. ЁЯТ╗ Online Learning System\n"
    "6. ЁЯУЦ Central Library\n"
    "7. ЁЯУЕ Exam Schedule\n"
    "8. ЁЯУЮ Contact Staff\n"
)

r = sr.Recognizer()
with sr.Microphone() as mic:
    r.adjust_for_ambient_noise(mic, duration=0.6)
    print("р╕Юр╕╣р╕Фр╕Др╕│р╕кр╕▒р╣Ир╕З р╣Ар╕Кр╣Ир╕Щ 'р╕кр╕зр╕▒р╕кр╕Фр╕╡ р╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н' / 'р╕кр╕зр╕▒р╕кр╕Фр╕╡ help me'")

    while True:
        try:
            audio = r.listen(mic, timeout=6, phrase_time_limit=10)
            text = r.recognize_google(audio, language="th-TH")  # р╕Яр╕▒р╕Зр╕лр╕ер╕▒р╕Бр╣Ар╕Ыр╣Зр╕Щр╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в
            print("р╣Др╕Фр╣Йр╕вр╕┤р╕Щ :", text)

            if text.startswith("р╕кр╕зр╕▒р╕кр╕Фр╕╡"):
                cmd = text.replace("р╕кр╕зр╕▒р╕кр╕Фр╕╡", "", 1).strip()

                # --- р╕Цр╣Йр╕▓р╣Гр╕Щр╕Др╕│р╕Юр╕╣р╕Фр╕бр╕╡ 'р╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н' (р╣Др╕Чр╕в) ---
                if "р╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н" in cmd:
                    print(student_help_menu_th)

                # --- р╕Цр╣Йр╕▓р╣Гр╕Щр╕Др╕│р╕Юр╕╣р╕Фр╕бр╕╡ 'help me' (р╕нр╕▒р╕Зр╕Бр╕др╕й) ---
                elif "help me" in cmd.lower():
                    print(student_help_menu_en)

                # --- р╕Цр╣Йр╕▓р╣Бр╕Др╣Ир╕Юр╕╣р╕Фр╕кр╕зр╕▒р╕кр╕Фр╕╡р╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕Фр╕╡р╕вр╕з ---
                else:
                    print("р╕кр╕зр╕▒р╕кр╕Фр╕╡! р╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Юр╕╣р╕Ф 'р╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н' р╕лр╕гр╕╖р╕н 'help me' р╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╣Ар╕бр╕Щр╕╣р╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н")

        except sr.WaitTimeoutError:
            print("тП│ р╣Др╕бр╣Ир╕бр╕╡р╣Ар╕кр╕╡р╕вр╕З р╕Юр╕╣р╕Фр╕бр╕▓р╣Др╕Фр╣Йр╣Ар╕ер╕в")

        except sr.UnknownValueError:
            print("тЭУ р╕Юр╕╣р╕Фр╕бр╕▓р╣Др╕Фр╣Йр╣Ар╕ер╕в.....")
